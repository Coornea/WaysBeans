{"ast":null,"code":"var _jsxFileName = \"/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Cart.js\",\n    _s = $RefreshSig$();\n\nimport \"../styles/App.css\";\nimport Navbar from \"../components/Navbar\";\nimport styles from \"../styles/Cart.module.css\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; //context\n\nimport { OrderContext } from \"../context/orderContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  let navigate = useNavigate();\n  const [subtotal, setSubtotal] = useState(0);\n  const [orderedMenus, setOrderedMenus] = useContext(OrderContext); //get data needed for display\n\n  const getTransactions = async () => {\n    try {\n      if (orderedMenus.subtotal !== 0) {\n        const totalPrice = orderedMenus.products.reduce((sum, elem) => sum + elem.orderQuantity * elem.price, 0);\n        setSubtotal(totalPrice);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; //did mount -> get Profile\n\n\n  useEffect(() => {\n    getTransactions();\n  }, []); //form handle\n\n  const increment = menuID => {\n    ////////////////Order Context///////////////\n    //increment\n    const order = orderedMenus.products.map(elem => {\n      if (elem.id === menuID) {\n        elem.orderQuantity = elem.orderQuantity + 1;\n      }\n\n      return elem;\n    });\n    const total = parseInt(orderedMenus.subtotal) + 1; //set context\n\n    setOrderedMenus({\n      type: \"ADD_CART\",\n      payload: order,\n      total\n    }); ///////////////subtotal state///////////////\n\n    const totalPrice = orderedMenus.products.reduce((sum, elem) => sum + elem.orderQuantity * elem.price, 0);\n    setSubtotal(totalPrice);\n  };\n\n  const decrement = menuID => {\n    ////////////////Order Context///////////////\n    //decrement\n    let total = 1;\n    const order = orderedMenus.products.map(elem => {\n      if (elem.id === menuID) {\n        if (elem.orderQuantity > 1) {\n          elem.orderQuantity = elem.orderQuantity - 1;\n        }\n      }\n\n      return elem;\n    });\n\n    if (orderedMenus.subtotal > 1) {\n      total = parseInt(orderedMenus.subtotal) - 1;\n    } //set Context\n\n\n    setOrderedMenus({\n      type: \"ADD_CART\",\n      payload: order,\n      total\n    }); ///////////////subtotal state///////////////\n\n    const totalPrice = orderedMenus.products.reduce((sum, elem) => sum + elem.orderQuantity * elem.price, 0);\n    setSubtotal(totalPrice);\n  };\n\n  const delOrder = menuID => {\n    ////////////////Order Context///////////////\n    //delete cart\n    let decreasePrice = 0;\n    orderedMenus.products.forEach(elem => {\n      if (elem.id === menuID) {\n        decreasePrice = elem.orderQuantity * elem.price;\n      }\n    });\n    const order = orderedMenus.products.filter(elem => elem.id !== menuID);\n    const total = order.reduce((sum, elem) => sum + parseInt(elem.orderQuantity), 0); //set Context\n\n    setOrderedMenus({\n      type: \"ADD_CART\",\n      payload: order,\n      total\n    }); ///////////////subtotal state///////////////\n\n    const totalPrice = subtotal - decreasePrice;\n    setSubtotal(totalPrice);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), subtotal === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"./images/404-your-cart-is-empty.png\",\n          alt: \"empty cart\",\n          className: styles.empty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: styles.myCart,\n        children: \"My Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cart,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Review Your Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.lines,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.line1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.line2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.Order,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.menulist,\n              children: orderedMenus.products.map(orderedMenu => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.menu,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.product,\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: orderedMenu.photo,\n                        alt: \"menu pict\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: styles.qty,\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: orderedMenu.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 146,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => decrement(orderedMenu.id),\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: orderedMenu.orderQuantity,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => increment(orderedMenu.id),\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 158,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.price,\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Rp \", orderedMenu.price.toLocaleString(\"id-ID\")]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"./images/bin.png\",\n                          alt: \"bin\",\n                          onClick: () => delOrder(orderedMenu.id)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 171,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.line1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 25\n                  }, this)]\n                }, orderedMenu.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.details,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.detail,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.nameDetail,\n                  children: \"Subtotal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.priceDetail,\n                  children: [\"Rp \", subtotal.toLocaleString(\"id-ID\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.detail,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.nameDetail,\n                  children: \"Qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.numberDetail,\n                  children: orderedMenus.subtotal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.line2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.total,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Rp \", subtotal.toLocaleString(\"id-ID\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.orderBtn,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => navigate(\"/shipment\"),\n                  children: \"Proceed To Checkout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Cart, \"PJcNEvzT1qBMrf8LQFQdw1GkgZY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Cart.js"],"names":["Navbar","styles","React","useState","useEffect","useContext","useNavigate","OrderContext","Cart","navigate","subtotal","setSubtotal","orderedMenus","setOrderedMenus","getTransactions","totalPrice","products","reduce","sum","elem","orderQuantity","price","error","console","log","increment","menuID","order","map","id","total","parseInt","type","payload","decrement","delOrder","decreasePrice","forEach","filter","empty","myCart","cart","lines","line1","line2","Order","menulist","orderedMenu","menu","product","photo","qty","name","toLocaleString","details","detail","nameDetail","priceDetail","numberDetail","orderBtn"],"mappings":"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","sourcesContent":["import \"../styles/App.css\";\nimport Navbar from \"../components/Navbar\";\nimport styles from \"../styles/Cart.module.css\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n//context\nimport { OrderContext } from \"../context/orderContext\";\n\nfunction Cart() {\n  let navigate = useNavigate();\n  const [subtotal, setSubtotal] = useState(0);\n  const [orderedMenus, setOrderedMenus] = useContext(OrderContext);\n\n  //get data needed for display\n  const getTransactions = async () => {\n    try {\n      if (orderedMenus.subtotal !== 0) {\n        const totalPrice = orderedMenus.products.reduce(\n          (sum, elem) => sum + elem.orderQuantity * elem.price,\n          0\n        );\n        setSubtotal(totalPrice);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  //did mount -> get Profile\n  useEffect(() => {\n    getTransactions();\n  }, []);\n\n  //form handle\n  const increment = (menuID) => {\n    ////////////////Order Context///////////////\n    //increment\n    const order = orderedMenus.products.map((elem) => {\n      if (elem.id === menuID) {\n        elem.orderQuantity = elem.orderQuantity + 1;\n      }\n      return elem;\n    });\n    const total = parseInt(orderedMenus.subtotal) + 1;\n    //set context\n    setOrderedMenus({\n      type: \"ADD_CART\",\n      payload: order,\n      total,\n    });\n    ///////////////subtotal state///////////////\n    const totalPrice = orderedMenus.products.reduce(\n      (sum, elem) => sum + elem.orderQuantity * elem.price,\n      0\n    );\n    setSubtotal(totalPrice);\n  };\n  const decrement = (menuID) => {\n    ////////////////Order Context///////////////\n    //decrement\n    let total = 1;\n    const order = orderedMenus.products.map((elem) => {\n      if (elem.id === menuID) {\n        if (elem.orderQuantity > 1) {\n          elem.orderQuantity = elem.orderQuantity - 1;\n        }\n      }\n      return elem;\n    });\n    if (orderedMenus.subtotal > 1) {\n      total = parseInt(orderedMenus.subtotal) - 1;\n    }\n    //set Context\n    setOrderedMenus({\n      type: \"ADD_CART\",\n      payload: order,\n      total,\n    });\n    ///////////////subtotal state///////////////\n    const totalPrice = orderedMenus.products.reduce(\n      (sum, elem) => sum + elem.orderQuantity * elem.price,\n      0\n    );\n    setSubtotal(totalPrice);\n  };\n  const delOrder = (menuID) => {\n    ////////////////Order Context///////////////\n    //delete cart\n    let decreasePrice = 0;\n    orderedMenus.products.forEach((elem) => {\n      if (elem.id === menuID) {\n        decreasePrice = elem.orderQuantity * elem.price;\n      }\n    });\n    const order = orderedMenus.products.filter((elem) => elem.id !== menuID);\n    const total = order.reduce(\n      (sum, elem) => sum + parseInt(elem.orderQuantity),\n      0\n    );\n    //set Context\n    setOrderedMenus({\n      type: \"ADD_CART\",\n      payload: order,\n      total,\n    });\n    ///////////////subtotal state///////////////\n    const totalPrice = subtotal - decreasePrice;\n    setSubtotal(totalPrice);\n  };\n\n  return (\n    <div>\n      <Navbar />\n\n      {subtotal === 0 ? (\n        <div>\n          <div>\n            <img\n              src=\"./images/404-your-cart-is-empty.png\"\n              alt=\"empty cart\"\n              className={styles.empty}\n            />\n          </div>\n        </div>\n      ) : (\n        <>\n          <h3 className={styles.myCart}>My Cart</h3>\n          <div className={styles.cart}>\n            <form>\n              <h5>Review Your Order</h5>\n              <div className={styles.lines}>\n                <div className={styles.line1} />\n                <div className={styles.line2} />\n              </div>\n\n              <div className={styles.Order}>\n                <div className={styles.menulist}>\n                  {orderedMenus.products.map((orderedMenu) => {\n                    return (\n                      <div key={orderedMenu.id}>\n                        <div className={styles.menu}>\n                          <div className={styles.product}>\n                            <img src={orderedMenu.photo} alt=\"menu pict\" />\n                            <div className={styles.qty}>\n                              <p>{orderedMenu.name}</p>\n                              <button\n                                type=\"button\"\n                                onClick={() => decrement(orderedMenu.id)}\n                              >\n                                -\n                              </button>\n                              <input\n                                type=\"number\"\n                                value={orderedMenu.orderQuantity}\n                                readOnly\n                              />\n                              <button\n                                type=\"button\"\n                                onClick={() => increment(orderedMenu.id)}\n                              >\n                                +\n                              </button>\n                            </div>\n                          </div>\n                          <div className={styles.price}>\n                            <p>\n                              Rp {orderedMenu.price.toLocaleString(\"id-ID\")}\n                            </p>\n                            <a>\n                              <img\n                                src=\"./images/bin.png\"\n                                alt=\"bin\"\n                                onClick={() => delOrder(orderedMenu.id)}\n                              />\n                            </a>\n                          </div>\n                        </div>\n                        <div className={styles.line1} />\n                      </div>\n                    );\n                  })}\n                </div>\n\n                <div className={styles.details}>\n                  <div className={styles.detail}>\n                    <p className={styles.nameDetail}>Subtotal</p>\n                    <p className={styles.priceDetail}>\n                      Rp {subtotal.toLocaleString(\"id-ID\")}\n                    </p>\n                  </div>\n                  <div className={styles.detail}>\n                    <p className={styles.nameDetail}>Qty</p>\n                    <p className={styles.numberDetail}>\n                      {orderedMenus.subtotal}\n                    </p>\n                  </div>\n                  <div className={styles.line2} />\n\n                  <div className={styles.total}>\n                    <p>Total</p>\n                    <p>Rp {subtotal.toLocaleString(\"id-ID\")}</p>\n                  </div>\n\n                  <div className={styles.orderBtn}>\n                    <button type=\"button\" onClick={() => navigate(\"/shipment\")}>\n                      Proceed To Checkout\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}