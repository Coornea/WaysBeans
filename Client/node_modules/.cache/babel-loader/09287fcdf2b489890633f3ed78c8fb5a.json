{"ast":null,"code":"var _jsxFileName = \"/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport '../styles/App.css';\nimport styles from \"../styles/Home.module.css\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Modal, Dropdown, NavDropdown, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport TransactionTable from \"../components/TransactionTable\"; //import stylesN from \"../components/Navbar.module.css\";\n//context\n\nimport { UserContext } from '../context/userContext'; //API config\n\nimport { API, setAuthToken } from \"../config/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  //state\n  const [register, setRegister] = useState(false);\n  const [login, setLogin] = useState(false);\n  const [state, dispatch] = useContext(UserContext);\n  const [message, setMessage] = useState(null);\n  const [products, setProducts] = useState([]); //register form (state)\n\n  const [regForm, setRegForm] = useState({\n    email: \"\",\n    password: \"\",\n    fullname: \"\"\n  });\n  const {\n    email,\n    password,\n    fullname\n  } = regForm; //login form (state)\n\n  const [logForm, setLogForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    logEmail,\n    logPassword\n  } = logForm;\n\n  const handleRegChange = e => {\n    setRegForm({ ...regForm,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleLogChange = e => {\n    setLogForm({ ...logForm,\n      [e.target.name]: e.target.value\n    });\n  }; //register handle\n\n\n  const handleRegister = async e => {\n    try {\n      e.preventDefault(); // Create Configuration Content-type\n\n      const config = {\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }; // Convert form data to string \n\n      const body = JSON.stringify(regForm); // Insert data user to database \n\n      const response = await API.post('/register', body, config); //close & empty modal\n\n      setRegister(false);\n      setRegForm({\n        email: \"\",\n        password: \"\",\n        fullname: \"\"\n      }); //notification\n\n      if (response.data.status === \"success\") {\n        const alert = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          onClose: () => setMessage(null),\n          className: \"py-2 mb-0\",\n          dismissible: true,\n          children: \"Registration Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this);\n\n        setMessage(alert);\n      } else {\n        const alert = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          onClose: () => setMessage(null),\n          className: \"py-1\",\n          dismissible: true,\n          children: \"Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this);\n\n        setMessage(alert);\n      }\n    } catch (error) {\n      const alert = /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        onClose: () => setMessage(null),\n        className: \"py-1\",\n        dismissible: true,\n        children: \"Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this);\n\n      setMessage(alert);\n      console.log(error);\n    }\n  }; //login handle\n\n\n  const handleLogin = async e => {\n    try {\n      e.preventDefault(); // Create Configuration Content-type\n\n      const config = {\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }; // Convert form data to string \n\n      const body = JSON.stringify(logForm); // Insert data user to database \n\n      const response = await API.post('/login', body, config); //close & empty modal\n\n      setLogin(false);\n      setLogForm({\n        email: \"\",\n        password: \"\"\n      }); //notification & change state\n\n      if (response.data.status === \"success\") {\n        await dispatch({\n          type: 'LOGIN_SUCCESS',\n          payload: response.data.data.user\n        });\n\n        if (localStorage.token) {\n          setAuthToken(localStorage.token);\n        }\n\n        const alert = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          onClose: () => setMessage(null),\n          className: \"py-2 mb-0\",\n          dismissible: true,\n          children: \"Login Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this);\n\n        setMessage(alert); // if (state.user.role === 'partner') {\n        //   getTransactions()\n        // }\n      } else {\n        const alert = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          onClose: () => setMessage(null),\n          className: \"py-1 mb-0\",\n          dismissible: true,\n          children: \"Login Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this);\n\n        setMessage(alert);\n      }\n    } catch (error) {\n      const alert = /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        onClose: () => setMessage(null),\n        className: \"py-1 mb-0\",\n        dismissible: true,\n        children: \"Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this);\n\n      setMessage(alert);\n      console.log(error);\n    }\n  }; //Register modal toggle\n\n\n  const handRegClose = () => setRegister(false);\n\n  const handReg = () => setRegister(true); //login modal toggle\n\n\n  const handLogClose = () => setLogin(false);\n\n  const handLog = () => setLogin(true); //logout\n\n\n  const logout = () => dispatch({\n    type: 'LOGOUT',\n    payload: ''\n  }); ////const logout = () => console.log(state);\n  //get data from db\n\n\n  const getProducts = async () => {\n    try {\n      const response = await API.get('/products');\n      setProducts(response.data.data.products);\n    } catch (error) {\n      console.log(error);\n    }\n  }; //did mount -> get users, socket\n\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [message && message, state.user.role === \"admin\" && state.isLogin ? /*#__PURE__*/_jsxDEV(TransactionTable, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.Header,\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./images/Icon.png\",\n            className: styles.icon,\n            alt: \"icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), !state.isLogin ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.buttons,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handLog,\n              className: styles.LoginBTN,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handReg,\n              className: styles.RegisterBTN,\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.buttons,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: \"/cart\",\n                isLogin: true\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"./images/Cart.png\",\n                alt: \"cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown, {\n              id: \"dropdown-basic\",\n              title: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: styles.avatar,\n                src: state.user.photo,\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 23\n              }, this),\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                className: styles.dropdownItem,\n                to: \"profile\",\n                style: {\n                  textDecoration: \"none\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"./images/user.png\",\n                  className: styles.dropdownPict,\n                  alt: \"profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.dropdownText,\n                  children: \"Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                className: styles.dropdownItem,\n                href: \"#\",\n                onClick: logout,\n                style: {\n                  padding: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"./images/logout.png\",\n                  className: styles.dropdownPict,\n                  alt: \"logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.dropdownText,\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            show: register,\n            onHide: handRegClose,\n            className: styles.modalform,\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              style: {\n                paddingBottom: '13px',\n                paddingTop: '25px',\n                width: '416px',\n                paddingLeft: '25px',\n                borderBottom: '0 none'\n              },\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.formTitle,\n                  style: {\n                    marginBottom: 0\n                  },\n                  children: \"Register\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              className: styles.modalBody,\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: styles.form,\n                onSubmit: handleRegister,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  placeholder: \"Email\",\n                  onChange: handleRegChange,\n                  value: email,\n                  name: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  placeholder: \"Password\",\n                  onChange: handleRegChange,\n                  value: password,\n                  name: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Full Name\",\n                  onChange: handleRegChange,\n                  value: fullname,\n                  name: \"fullname\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  children: \"Register\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n              className: styles.formFooter,\n              style: {\n                borderTop: '0 none'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Already have an account ? Klik\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginLeft: 0\n                },\n                onClick: () => {\n                  handRegClose();\n                  handLog();\n                },\n                className: styles.footerLink,\n                children: \"Here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            show: login,\n            onHide: handLogClose,\n            className: styles.modalform,\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              style: {\n                paddingBottom: '13px',\n                paddingTop: '25px',\n                width: '416px',\n                paddingLeft: '25px',\n                borderBottom: '0 none'\n              },\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.formTitle,\n                  style: {\n                    marginBottom: 0\n                  },\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              className: styles.modalBody,\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: styles.form,\n                onSubmit: handleLogin,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  placeholder: \"Email\",\n                  id: \"email\",\n                  onChange: handleLogChange,\n                  required: true,\n                  value: logEmail,\n                  name: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  placeholder: \"Password\",\n                  onChange: handleLogChange,\n                  value: logPassword,\n                  name: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n              className: styles.formFooter,\n              style: {\n                borderTop: '0 none'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Don't have an account ? Klik\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginLeft: 0\n                },\n                onClick: () => {\n                  handLogClose();\n                  handReg();\n                },\n                className: styles.footerLink,\n                children: \"Here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.Hero,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"./images/hero.png\",\n          className: styles.heropic,\n          alt: \"hero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.products,\n        children: products.map(product => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.product,\n            children: [!state.isLogin ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.photo,\n              onClick: handLog,\n              style: {\n                cursor: 'pointer'\n              },\n              alt: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Link, {\n              to: `/detailproduct/${product.id}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.photo,\n                alt: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.productName,\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.productDesc,\n              style: {\n                marginBottom: 0\n              },\n              children: [\"Rp.\", product.price.toLocaleString('id-ID')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.productDesc,\n              style: {\n                marginBottom: '5px'\n              },\n              children: [\"Stock: \", product.stock]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"8Yhj32/LTT6tnYoXrnlZtQ0PSWk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Home.js"],"names":["styles","React","useState","useContext","useEffect","Modal","Dropdown","NavDropdown","Alert","Link","TransactionTable","UserContext","API","setAuthToken","App","register","setRegister","login","setLogin","state","dispatch","message","setMessage","products","setProducts","regForm","setRegForm","email","password","fullname","logForm","setLogForm","logEmail","logPassword","handleRegChange","e","target","name","value","handleLogChange","handleRegister","preventDefault","config","headers","body","JSON","stringify","response","post","data","status","alert","error","console","log","handleLogin","type","payload","user","localStorage","token","handRegClose","handReg","handLogClose","handLog","logout","getProducts","get","role","isLogin","Header","icon","buttons","LoginBTN","RegisterBTN","pathname","avatar","photo","dropdownItem","textDecoration","dropdownPict","dropdownText","padding","modalform","paddingBottom","paddingTop","width","paddingLeft","borderBottom","formTitle","marginBottom","modalBody","form","formFooter","borderTop","marginLeft","footerLink","Hero","heropic","map","product","cursor","id","productName","productDesc","price","toLocaleString","stock"],"mappings":"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","sourcesContent":["import '../styles/App.css';\nimport styles from \"../styles/Home.module.css\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Modal, Dropdown, NavDropdown, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport TransactionTable from \"../components/TransactionTable\";\n//import stylesN from \"../components/Navbar.module.css\";\n\n//context\nimport { UserContext } from '../context/userContext';\n\n//API config\nimport { API, setAuthToken } from \"../config/api\";\n\nfunction App() {\n  //state\n  const [register, setRegister] = useState(false);\n  const [login, setLogin] = useState(false);\n  const [state, dispatch] = useContext(UserContext);\n  const [message, setMessage] = useState(null);\n  const [products, setProducts] = useState([]);\n\n  //register form (state)\n  const [regForm, setRegForm] = useState({\n    email: \"\",\n    password: \"\",\n    fullname: \"\",\n  });\n  const { email, password, fullname } = regForm;\n\n  //login form (state)\n  const [logForm, setLogForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const { logEmail, logPassword } = logForm;\n\n\n  const handleRegChange = (e) => {\n    setRegForm({\n      ...regForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleLogChange = (e) => {\n    setLogForm({\n      ...logForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  //register handle\n  const handleRegister = async (e) => {\n    try {\n      e.preventDefault();\n\n      // Create Configuration Content-type\n      const config = {\n        headers: {\n          'Content-type': 'application/json',\n        },\n      };\n\n      // Convert form data to string \n      const body = JSON.stringify(regForm);\n\n      // Insert data user to database \n      const response = await API.post('/register', body, config);\n\n      //close & empty modal\n      setRegister(false);\n      setRegForm({           \n        email: \"\",\n        password: \"\",\n        fullname: \"\",\n      });\n\n      //notification\n      if (response.data.status === \"success\") {\n        const alert = (\n          <Alert variant=\"success\" onClose={() => setMessage(null)} className=\"py-2 mb-0\" dismissible>\n            Registration Success\n          </Alert>\n        );\n        setMessage(alert);        \n      } else {\n        const alert = (\n          <Alert variant=\"danger\" onClose={() => setMessage(null)} className=\"py-1\" dismissible>\n            Failed\n          </Alert>\n        );\n        setMessage(alert);\n      }\n    } catch (error) {\n      const alert = (\n        <Alert variant=\"danger\" onClose={() => setMessage(null)} className=\"py-1\" dismissible>\n          Failed\n        </Alert>\n      );\n      setMessage(alert);\n      console.log(error);\n    }\n  };\n\n  //login handle\n  const handleLogin = async (e) => {\n    try {\n      e.preventDefault();\n\n      // Create Configuration Content-type\n      const config = {\n        headers: {\n          'Content-type': 'application/json',\n        },\n      };\n      // Convert form data to string \n      const body = JSON.stringify(logForm);\n\n      // Insert data user to database \n      const response = await API.post('/login', body, config);\n\n      //close & empty modal\n      setLogin(false);\n      setLogForm({ email: \"\", password: \"\" });\n\n      //notification & change state\n      if (response.data.status === \"success\") {\n        await dispatch({\n          type: 'LOGIN_SUCCESS',\n          payload: response.data.data.user,\n        });\n        if (localStorage.token) {\n          setAuthToken(localStorage.token);\n        }\n\n        const alert = (\n          <Alert variant=\"success\" onClose={() => setMessage(null)} className=\"py-2 mb-0\" dismissible>\n            Login Success\n          </Alert>\n        );\n        setMessage(alert);\n        // if (state.user.role === 'partner') {\n        //   getTransactions()\n        // }\n      } else {\n        const alert = (\n          <Alert variant=\"danger\" onClose={() => setMessage(null)} className=\"py-1 mb-0\" dismissible>\n            Login Failed\n          </Alert>\n        );\n        setMessage(alert);\n      }\n    } catch (error) {\n      const alert = (\n        <Alert variant=\"danger\" onClose={() => setMessage(null)} className=\"py-1 mb-0\" dismissible>\n          Failed\n        </Alert>\n      );\n      setMessage(alert);\n      console.log(error);\n    }\n  };\n\n  //Register modal toggle\n  const handRegClose = () => setRegister(false);\n  const handReg = () => setRegister(true);\n\n  //login modal toggle\n  const handLogClose = () => setLogin(false);\n  const handLog = () => setLogin(true);\n\n  //logout\n  const logout = () => dispatch({ \n    type: 'LOGOUT',\n    payload: '',\n  });\n  ////const logout = () => console.log(state);\n\n  //get data from db\n  const getProducts = async () => {\n    try {\n      const response = await API.get('/products');\n      setProducts(response.data.data.products);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  //did mount -> get users, socket\n  useEffect(() => {\n    getProducts()\n  }, []);\n\n  return (\n    <>\n      {message && message}\n      {state.user.role === \"admin\" && state.isLogin ? (\n        <TransactionTable/>\n      ) : (\n        <div>\n          <div className={styles.Header}>\n            <nav>\n              <img src=\"./images/Icon.png\" className={styles.icon} alt=\"icon\" />\n              {!state.isLogin ? (\n                <span className={styles.buttons}>\n                  <button onClick={handLog} className={styles.LoginBTN}>\n                    Login\n                  </button>\n                  <button onClick={handReg} className={styles.RegisterBTN}>\n                    Register\n                  </button>\n                </span>\n              ) : (\n                <span className={styles.buttons}>\n                  <Link to={{ pathname: \"/cart\", isLogin: true }}>\n                    <img src=\"./images/Cart.png\" alt=\"cart\" />\n                  </Link>\n                  <NavDropdown\n                    id=\"dropdown-basic\"\n                    title={\n                      <img\n                        className={styles.avatar}\n                        src={state.user.photo}\n                        alt=\"avatar\"\n                      />\n                    }\n                  >\n                    <Link\n                      className={styles.dropdownItem}\n                      to=\"profile\"\n                      style={{ textDecoration: \"none\" }}\n                    >\n                      {/* <Link to=\"profile\" style={{ textDecoration: 'none' }}> */}\n                      <img\n                        src=\"./images/user.png\"\n                        className={styles.dropdownPict}\n                        alt=\"profile\"\n                      />\n                      <span className={styles.dropdownText}>Profile</span>\n                    </Link>\n                    <Dropdown.Divider />\n                    <Dropdown.Item\n                      className={styles.dropdownItem}\n                      href=\"#\"\n                      onClick={logout}\n                      style={{padding: 0}}\n                    >\n                      <img\n                        src=\"./images/logout.png\"\n                        className={styles.dropdownPict}\n                        alt=\"logout\"\n                      />\n                      <span className={styles.dropdownText}>Logout</span>\n                    </Dropdown.Item>\n                  </NavDropdown>\n                </span>\n              )}\n\n              {/*//////// Modals ////////*/}\n              <Modal show={register} onHide={handRegClose} className={styles.modalform}>\n                <Modal.Header style={{paddingBottom:'13px', paddingTop:'25px', width: '416px',\n                                      paddingLeft:'25px', borderBottom:'0 none'}}>\n                  <Modal.Title><p className={styles.formTitle} style={{marginBottom:0}}>Register</p></Modal.Title>\n                </Modal.Header>\n                <Modal.Body className={styles.modalBody}>\n                  <form className={styles.form} onSubmit={handleRegister}>\n                    <input type=\"email\" placeholder=\"Email\" onChange={handleRegChange} value={email} name='email'/>\n                    <input type=\"password\" placeholder=\"Password\" onChange={handleRegChange} value={password} name='password'/>\n                    <input type=\"text\" placeholder=\"Full Name\" onChange={handleRegChange} value={fullname} name='fullname'/>\n                  \n                    <button type='submit'>Register</button>\n                  </form>\n                </Modal.Body>\n                <Modal.Footer className={styles.formFooter} style={{borderTop:'0 none'}}>\n                  <p>Already have an account ? Klik</p>\n                  <p style={{marginLeft:0}} onClick={()=> {handRegClose(); handLog()}} className={styles.footerLink}>Here</p>\n                </Modal.Footer>\n              </Modal>\n\n              <Modal show={login} onHide={handLogClose} className={styles.modalform}>\n                <Modal.Header style={{paddingBottom:'13px', paddingTop:'25px', width: '416px',\n                                      paddingLeft:'25px', borderBottom:'0 none'}}>\n                  <Modal.Title><p className={styles.formTitle} style={{marginBottom:0}}>Login</p></Modal.Title>\n                </Modal.Header>\n                <Modal.Body className={styles.modalBody}>\n                  <form className={styles.form} onSubmit={handleLogin}>\n                    <input type=\"email\" placeholder=\"Email\"\n                      id=\"email\" onChange={handleLogChange} required\n                      value={logEmail} name='email'\n                    />\n                    <input type=\"password\" placeholder=\"Password\" onChange={handleLogChange}\n                      value={logPassword} name='password'/>\n                    <button type=\"submit\">\n                      Login\n                    </button>\n                  </form>\n                </Modal.Body>\n                <Modal.Footer className={styles.formFooter} style={{borderTop:'0 none'}}>\n                  <p>Don't have an account ? Klik</p>\n                  <p style={{marginLeft:0}} onClick={()=> {handLogClose(); handReg()}} className={styles.footerLink}>Here</p>\n                </Modal.Footer>\n              </Modal>\n            </nav>\n          </div>\n          <div className = {styles.Hero}>\n            <img src=\"./images/hero.png\" className={styles.heropic} alt=\"hero\" />\n          </div>\n          <div className={styles.products}>\n            {products.map(product => {\n              return(\n                <div className={styles.product} key={product.id}>\n                  {!state.isLogin ? (\n                  <img src={product.photo} onClick={handLog}\n                    style={{cursor: 'pointer'}} alt=\"icon\" />\n                  ) : (\n                    <Link to={`/detailproduct/${product.id}`}>\n                      <img src={product.photo} alt=\"icon\" />\n                    </Link>\n                  ) }\n                  <p className={styles.productName}>{product.name}</p>\n                  <p className={styles.productDesc} style={{marginBottom:0}}>Rp.{product.price.toLocaleString('id-ID')}</p>\n                  <p className={styles.productDesc} style={{marginBottom:'5px'}}>Stock: {product.stock}</p>\n                </div>    \n              )\n            })}\n          </div>\n          \n\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}