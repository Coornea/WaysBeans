{"ast":null,"code":"var _jsxFileName = \"/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Profile.js\",\n    _s = $RefreshSig$();\n\nimport Navbar from \"../components/Navbar\";\nimport styles from \"../styles/Profile.module.css\";\nimport { Link } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\"; //API config\n\nimport { API } from \"../config/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile() {\n  _s();\n\n  const [profile, setProfile] = useState([]);\n  const [transaction, setTransaction] = useState([]);\n  const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]; //get detail user\n\n  const getUser = async () => {\n    try {\n      const response = await API.get(\"/user\"); //console.log(response.data.data.user)\n\n      setProfile(response.data.data.user);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const loadFile = function (e) {\n    const image = document.getElementById(\"outputProfile\");\n    image.src = URL.createObjectURL(e.target.files[0]);\n  };\n\n  const getTransactions = async () => {\n    try {\n      const response = await API.get(\"/my-transactions\"); //console.log(response)\n\n      const temp = response.data.data.transactions.map(elem => {\n        return {\n          id: elem.id,\n          photo: `http://localhost:5000/uploads/${elem.products[0].photo}`,\n          name: elem.products[0].name,\n          price: elem.products[0].price,\n          orderQuantity: elem.products[0].orderQuantity,\n          subtotal: elem.products[0].price * elem.products[0].orderQuantity,\n          status: elem.status,\n          day: days[new Date(`${months[elem.date.split(\"T\")[0].split(\"-\")[1] - 1]} ${elem.date.split(\"T\")[0].split(\"-\")[2]}, ${elem.date.split(\"T\")[0].split(\"-\")[0]}`).getDay()],\n          date: `${elem.date.split(\"T\")[0].split(\"-\")[2]} ${months[elem.date.split(\"T\")[0].split(\"-\")[1] - 1]} ${elem.date.split(\"T\")[0].split(\"-\")[0]}`\n        };\n      });\n      setTransaction(temp);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n    getTransactions();\n  }, []);\n\n  const finishTransaction = async dataID => {\n    try {\n      //Configuration Content-type\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      }; //prepare body req\n\n      const status = {\n        status: \"success\"\n      };\n      const body = JSON.stringify(status); //update transaction\n\n      await API.patch(`/transaction/${dataID}`, body, config); //change datas state\n\n      const currentDatas = transaction.map(elem => {\n        if (elem.id === dataID) {\n          elem.status = \"success\";\n        }\n\n        return elem;\n      });\n      setTransaction(currentDatas);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.page,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.mainProfile,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.myProfile,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"My Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.infoPerson,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profilePic\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                className: \"-label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Change Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"file\",\n                onChange: () => loadFile(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: styles.profilePhoto,\n                id: \"outputProfile\",\n                src: profile.photo,\n                alt: \"Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: profile.fullname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: profile.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.products,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"My Transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), transaction.map(elem => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.product,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.detailProduct,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: elem.photo,\n                alt: \"menu pict\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.number,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.productName,\n                  children: elem.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.date,\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: elem.day\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 23\n                  }, this), \", \", elem.date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.productPrice,\n                  children: [\"Price : Rp \", elem.price.toLocaleString(\"id-ID\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.productQty,\n                  children: [\"Qty : \", elem.orderQuantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.subTotal,\n                  children: [\"Sub Total : \", elem.subtotal.toLocaleString(\"id-ID\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.productr,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Icon.png\",\n                alt: \"waysbeans icon\",\n                className: styles.wbIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/qr mock.png\",\n                alt: \"qr\",\n                className: styles.qr\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), elem.status === \"success\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.status,\n                children: \"Success\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this) : elem.status === \"waiting approve\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.statusw,\n                children: elem.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this) : elem.status === \"on the way\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: styles.statuso,\n                onClick: () => finishTransaction(elem.id),\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.statusc,\n                children: \"Canceled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)]\n          }, elem.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"y4hVI6tM1p8jJCQRlI9DKVqtkeg=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Profile.js"],"names":["Navbar","styles","Link","React","useState","useEffect","API","Profile","profile","setProfile","transaction","setTransaction","months","days","getUser","response","get","data","user","error","console","log","loadFile","e","image","document","getElementById","src","URL","createObjectURL","target","files","getTransactions","temp","transactions","map","elem","id","photo","products","name","price","orderQuantity","subtotal","status","day","Date","date","split","getDay","finishTransaction","dataID","config","headers","body","JSON","stringify","patch","currentDatas","page","mainProfile","myProfile","infoPerson","profilePhoto","fullname","email","product","detailProduct","number","productName","productPrice","toLocaleString","productQty","subTotal","productr","wbIcon","qr","statusw","statuso","statusc"],"mappings":"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","sourcesContent":["import Navbar from \"../components/Navbar\";\nimport styles from \"../styles/Profile.module.css\";\nimport { Link } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\n\n//API config\nimport { API } from \"../config/api\";\n\nfunction Profile() {\n  const [profile, setProfile] = useState([]);\n  const [transaction, setTransaction] = useState([]);\n  const months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n  const days = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ];\n\n  //get detail user\n  const getUser = async () => {\n    try {\n      const response = await API.get(\"/user\");\n      //console.log(response.data.data.user)\n      setProfile(response.data.data.user);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const loadFile = function (e) {\n    const image = document.getElementById(\"outputProfile\");\n    image.src = URL.createObjectURL(e.target.files[0]);\n  };\n\n  const getTransactions = async () => {\n    try {\n      const response = await API.get(\"/my-transactions\");\n      //console.log(response)\n      const temp = response.data.data.transactions.map((elem) => {\n        return {\n          id: elem.id,\n          photo: `http://localhost:5000/uploads/${elem.products[0].photo}`,\n          name: elem.products[0].name,\n          price: elem.products[0].price,\n          orderQuantity: elem.products[0].orderQuantity,\n          subtotal: elem.products[0].price * elem.products[0].orderQuantity,\n          status: elem.status,\n          day: days[\n            new Date(\n              `${months[elem.date.split(\"T\")[0].split(\"-\")[1] - 1]} ${\n                elem.date.split(\"T\")[0].split(\"-\")[2]\n              }, ${elem.date.split(\"T\")[0].split(\"-\")[0]}`\n            ).getDay()\n          ],\n          date: `${elem.date.split(\"T\")[0].split(\"-\")[2]} ${\n            months[elem.date.split(\"T\")[0].split(\"-\")[1] - 1]\n          } ${elem.date.split(\"T\")[0].split(\"-\")[0]}`,\n        };\n      });\n      setTransaction(temp);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n    getTransactions();\n  }, []);\n\n  const finishTransaction = async (dataID) => {\n    try {\n      //Configuration Content-type\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n\n      //prepare body req\n      const status = {\n        status: \"success\",\n      };\n      const body = JSON.stringify(status);\n\n      //update transaction\n      await API.patch(`/transaction/${dataID}`, body, config);\n\n      //change datas state\n      const currentDatas = transaction.map((elem) => {\n        if (elem.id === dataID) {\n          elem.status = \"success\";\n        }\n        return elem;\n      });\n      setTransaction(currentDatas);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div>\n      <Navbar />\n      <div className={styles.page}>\n        <div className={styles.mainProfile}>\n          <div className={styles.myProfile}>\n            <h4>My Profile</h4>\n            <div className={styles.infoPerson}>\n              <div className=\"profilePic\">\n                <label htmlFor=\"file\" className=\"-label\">\n                  <span>Change Profile</span>\n                </label>\n                <input type=\"file\" id=\"file\" onChange={() => loadFile(e)} />\n                <img\n                  className={styles.profilePhoto}\n                  id=\"outputProfile\"\n                  src={profile.photo}\n                  alt=\"Profile\"\n                />\n              </div>\n              <article>\n                <h5>Full Name</h5>\n                <p>{profile.fullname}</p>\n                <h5>Email</h5>\n                <p>{profile.email}</p>\n              </article>\n            </div>\n          </div>\n        </div>\n        <div className={styles.products}>\n          <h4>My Transaction</h4>\n          {transaction.map((elem) => {\n            return (\n              <div className={styles.product} key={elem.id}>\n                <div className={styles.detailProduct}>\n                  <img src={elem.photo} alt=\"menu pict\" />\n                  <div className={styles.number}>\n                    <p className={styles.productName}>{elem.name}</p>\n                    <p className={styles.date}>\n                      <b>{elem.day}</b>, {elem.date}\n                    </p>\n                    <p className={styles.productPrice}>\n                      Price : Rp {elem.price.toLocaleString(\"id-ID\")}\n                    </p>\n                    <p className={styles.productQty}>\n                      Qty : {elem.orderQuantity}\n                    </p>\n                    <p className={styles.subTotal}>\n                      Sub Total : {elem.subtotal.toLocaleString(\"id-ID\")}\n                    </p>\n                  </div>\n                </div>\n                <div className={styles.productr}>\n                  <img\n                    src=\"images/Icon.png\"\n                    alt=\"waysbeans icon\"\n                    className={styles.wbIcon}\n                  />\n                  <img\n                    src=\"images/qr mock.png\"\n                    alt=\"qr\"\n                    className={styles.qr}\n                  />\n                  {elem.status === \"success\" ? (\n                    <div className={styles.status}>Success</div>\n                  ) : elem.status === \"waiting approve\" ? (\n                    <div className={styles.statusw}>{elem.status}</div>\n                  ) : elem.status === \"on the way\" ? (\n                    <button\n                      className={styles.statuso}\n                      onClick={() => finishTransaction(elem.id)}\n                    >\n                      Completed\n                    </button>\n                  ) : (\n                    <div className={styles.statusc}>Canceled</div>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}