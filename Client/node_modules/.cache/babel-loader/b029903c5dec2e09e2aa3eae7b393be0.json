{"ast":null,"code":"var _jsxFileName = \"/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Cart.js\",\n    _s = $RefreshSig$();\n\nimport '../styles/App.css';\nimport Navbar from \"../components/Navbar\";\nimport styles from \"../styles/Cart.module.css\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; //context\n\nimport { OrderContext } from \"../context/orderContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  let navigate = useNavigate();\n  const [subtotal, setSubtotal] = useState(0);\n  const [orderedMenus, setOrderedMenus] = useContext(OrderContext); //get data needed for display\n\n  const getTransactions = async () => {\n    try {\n      if (orderedMenus.subtotal !== 0) {\n        const totalPrice = orderedMenus.products.reduce((sum, elem) => sum + elem.orderQuantity * elem.price, 0);\n        setSubtotal(totalPrice);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; //did mount -> get Profile\n\n\n  useEffect(() => {\n    getTransactions();\n  }, []); //form handle\n\n  const increment = menuID => {\n    ////////////////Order Context///////////////\n    //increment\n    const order = orderedMenus.products.map(elem => {\n      if (elem.id === menuID) {\n        elem.orderQuantity = elem.orderQuantity + 1;\n      }\n\n      return elem;\n    });\n    const total = parseInt(orderedMenus.subtotal) + 1; //set context\n\n    setOrderedMenus({\n      type: 'ADD_CART',\n      payload: order,\n      total\n    }); ///////////////subtotal state///////////////\n\n    const totalPrice = orderedMenus.products.reduce((sum, elem) => sum + elem.orderQuantity * elem.price, 0);\n    setSubtotal(totalPrice);\n  };\n\n  const decrement = menuID => {\n    ////////////////Order Context///////////////\n    //decrement\n    let total = 1;\n    const order = orderedMenus.products.map(elem => {\n      if (elem.id === menuID) {\n        if (elem.orderQuantity > 1) {\n          elem.orderQuantity = elem.orderQuantity - 1;\n        }\n      }\n\n      return elem;\n    });\n\n    if (orderedMenus.subtotal > 1) {\n      total = parseInt(orderedMenus.subtotal) - 1;\n    } //set Context\n\n\n    setOrderedMenus({\n      type: 'ADD_CART',\n      payload: order,\n      total\n    }); ///////////////subtotal state///////////////\n\n    const totalPrice = orderedMenus.products.reduce((sum, elem) => sum + elem.orderQuantity * elem.price, 0);\n    setSubtotal(totalPrice);\n  };\n\n  const delOrder = menuID => {\n    ////////////////Order Context///////////////\n    //delete cart\n    let decreasePrice = 0;\n    orderedMenus.products.forEach(elem => {\n      if (elem.id === menuID) {\n        decreasePrice = elem.orderQuantity * elem.price;\n      }\n    });\n    const order = orderedMenus.products.filter(elem => elem.id !== menuID);\n    const total = order.reduce((sum, elem) => sum + parseInt(elem.orderQuantity), 0); //set Context\n\n    setOrderedMenus({\n      type: 'ADD_CART',\n      payload: order,\n      total\n    }); ///////////////subtotal state///////////////\n\n    const totalPrice = subtotal - decreasePrice;\n    setSubtotal(totalPrice);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }, this), subtotal === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"./images/404-your-cart-is-empty.png\",\n        alt: \"empty cart\",\n        className: styles.empty\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 31\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: styles.myCart,\n        children: \"My Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cart,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Review Your Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.lines,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.line1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.line2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.Order,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.menulist,\n              children: orderedMenus.products.map(orderedMenu => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.menu,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.product,\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: orderedMenu.photo,\n                        alt: \"menu pict\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: styles.qty,\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: orderedMenu.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 135,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => decrement(orderedMenu.id),\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 136,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: orderedMenu.orderQuantity,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 137,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => increment(orderedMenu.id),\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 138,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.price,\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Rp \", orderedMenu.price.toLocaleString('id-ID')]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"./images/bin.png\",\n                          alt: \"bin\",\n                          onClick: () => delOrder(orderedMenu.id)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 144,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.line1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 19\n                  }, this)]\n                }, orderedMenu.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 17\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.details,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.detail,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.nameDetail,\n                  children: \"Subtotal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.priceDetail,\n                  children: [\"Rp \", subtotal.toLocaleString('id-ID')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.detail,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.nameDetail,\n                  children: \"Qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.numberDetail,\n                  children: orderedMenus.subtotal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.line2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.total,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Rp \", subtotal.toLocaleString('id-ID')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.orderBtn,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => navigate('/shipment'),\n                  children: \"Proceed To Checkout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Cart, \"PJcNEvzT1qBMrf8LQFQdw1GkgZY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Cart.js"],"names":["Navbar","styles","React","useState","useEffect","useContext","useNavigate","OrderContext","Cart","navigate","subtotal","setSubtotal","orderedMenus","setOrderedMenus","getTransactions","totalPrice","products","reduce","sum","elem","orderQuantity","price","error","console","log","increment","menuID","order","map","id","total","parseInt","type","payload","decrement","delOrder","decreasePrice","forEach","filter","empty","myCart","cart","lines","line1","line2","Order","menulist","orderedMenu","menu","product","photo","qty","name","toLocaleString","details","detail","nameDetail","priceDetail","numberDetail","orderBtn"],"mappings":"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","sourcesContent":["import '../styles/App.css'\nimport Navbar from \"../components/Navbar\";\nimport styles from \"../styles/Cart.module.css\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n//context\nimport {OrderContext} from \"../context/orderContext\";\n\nfunction Cart() {\n  let navigate = useNavigate();\n  const [subtotal, setSubtotal] = useState(0);\n  const [orderedMenus, setOrderedMenus] = useContext(OrderContext);\n\n  //get data needed for display\n  const getTransactions = async () => {\n    try {\n      if (orderedMenus.subtotal !== 0) {\n        const totalPrice = orderedMenus.products.reduce(\n          (sum, elem) =>  sum + (elem.orderQuantity * elem.price),0\n        )\n        setSubtotal(totalPrice);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  \n  //did mount -> get Profile\n  useEffect(() => {\n    getTransactions();\n  }, []);\n\n  //form handle\n  const increment = (menuID) => {\n    ////////////////Order Context///////////////\n    //increment\n    const order = orderedMenus.products.map( elem => {\n      if (elem.id === menuID) {\n        elem.orderQuantity = elem.orderQuantity + 1\n      }\n      return elem\n    })\n    const total = parseInt(orderedMenus.subtotal) + 1;\n    //set context\n    setOrderedMenus({\n      type: 'ADD_CART',\n      payload: order,\n      total\n    });\n    ///////////////subtotal state///////////////\n    const totalPrice = orderedMenus.products.reduce(\n      (sum, elem) =>  sum + (elem.orderQuantity * elem.price),0\n    )\n    setSubtotal(totalPrice);\n  }\n  const decrement = (menuID) => {\n    ////////////////Order Context///////////////\n    //decrement\n    let total = 1;\n    const order = orderedMenus.products.map( elem => {\n      if (elem.id === menuID) {\n        if (elem.orderQuantity > 1){\n          elem.orderQuantity = elem.orderQuantity - 1\n        }\n      }\n      return elem\n    })\n    if (orderedMenus.subtotal > 1){\n      total = parseInt(orderedMenus.subtotal) - 1;\n    }\n    //set Context\n    setOrderedMenus({\n      type: 'ADD_CART',\n      payload: order,\n      total\n    });\n    ///////////////subtotal state///////////////\n    const totalPrice = orderedMenus.products.reduce(\n      (sum, elem) =>  sum + (elem.orderQuantity * elem.price),0\n    )\n    setSubtotal(totalPrice);\n  }\n  const delOrder = (menuID) => {\n    ////////////////Order Context///////////////\n    //delete cart\n    let decreasePrice = 0;\n    orderedMenus.products.forEach(elem => {\n      if (elem.id === menuID){\n        decreasePrice = elem.orderQuantity * elem.price\n      }\n    });\n    const order = orderedMenus.products.filter( elem => \n      elem.id !== menuID\n    )\n    const total = order.reduce(\n      (sum, elem) =>  sum + parseInt(elem.orderQuantity),0\n    )\n    //set Context\n    setOrderedMenus({\n      type: 'ADD_CART',\n      payload: order,\n      total\n    });\n    ///////////////subtotal state///////////////\n    const totalPrice = subtotal - decreasePrice;\n    setSubtotal(totalPrice);\n  }\n\n  return (\n    <div>\n    <Navbar />\n    \n      {subtotal === 0 ? (<div><img src=\"./images/404-your-cart-is-empty.png\" \n      alt=\"empty cart\" className={styles.empty}/></div>) : (\n      <>\n      <h3 className={styles.myCart}>My Cart</h3>\n      <div className={styles.cart}>\n        <form>\n          <h5>Review Your Order</h5>\n          <div className={styles.lines}>\n            <div className={styles.line1} />\n            <div className={styles.line2} />\n          </div>\n\n          <div className={styles.Order}>\n            <div className={styles.menulist}>\n              \n              {orderedMenus.products.map( orderedMenu => { return(\n                <div key={orderedMenu.id}>\n                  <div className={styles.menu}>\n                    <div className={styles.product}>\n                      <img src={orderedMenu.photo} alt=\"menu pict\" />\n                      <div className={styles.qty}>\n                        <p>{orderedMenu.name}</p>\n                        <button type=\"button\" onClick={() => decrement(orderedMenu.id)}>-</button>\n                        <input type=\"number\" value={orderedMenu.orderQuantity} readOnly/>\n                        <button type=\"button\" onClick={() => increment(orderedMenu.id)}>+</button>\n                      </div>\n                    </div>\n                    <div className={styles.price}>\n                      <p>Rp {orderedMenu.price.toLocaleString('id-ID')}</p>\n                      <a>\n                        <img src=\"./images/bin.png\" alt=\"bin\" onClick={() => delOrder(orderedMenu.id)}/>\n                      </a>\n                    </div>\n                  </div>\n                  <div className={styles.line1} />\n                </div>\n              )})}\n            \n            </div>\n\n            <div className={styles.details}>\n              <div className={styles.detail}>\n                <p className={styles.nameDetail}>Subtotal</p>\n                <p className={styles.priceDetail}>Rp {subtotal.toLocaleString('id-ID')}</p>\n              </div>\n              <div className={styles.detail}>\n                <p className={styles.nameDetail}>Qty</p>\n                <p className={styles.numberDetail}>{orderedMenus.subtotal}</p>\n              </div>\n              <div className={styles.line2} />\n\n              <div className={styles.total}>\n                <p>Total</p>\n                <p>Rp {subtotal.toLocaleString('id-ID')}</p>\n              </div>\n\n              <div className={styles.orderBtn}>\n                <button type='button' onClick={() => navigate('/shipment')}>Proceed To Checkout</button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n      </>\n      )}\n    \n  </div>);\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}