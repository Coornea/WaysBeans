{"ast":null,"code":"var _jsxFileName = \"/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport \"../styles/App.css\";\nimport styles from \"../styles/Home.module.css\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Modal, Dropdown, NavDropdown } from \"react-bootstrap\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport Transactions from \"../components/Transactions\"; //import stylesN from \"../components/Navbar.module.css\";\n//context\n\nimport { UserContext } from \"../context/userContext\"; //API config\n\nimport { API, setAuthToken } from \"../config/api\";\nimport SignModal from \"../components/SignModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App(_ref) {\n  _s();\n\n  let {\n    handLog,\n    handReg\n  } = _ref;\n  //state\n  // const [register, setRegister] = useState(false);\n  // const [login, setLogin] = useState(false);\n  const [state, dispatch] = useContext(UserContext);\n  const [message, setMessage] = useState(null);\n  const [products, setProducts] = useState([]); //register form (state)\n  // const [regForm, setRegForm] = useState({\n  //   email: \"\",\n  //   password: \"\",\n  //   fullname: \"\",\n  // });\n  // const { email, password, fullname } = regForm;\n  // //login form (state)\n  // const [logForm, setLogForm] = useState({\n  //   email: \"\",\n  //   password: \"\",\n  // });\n  // const { logEmail, logPassword } = logForm;\n  // const handleRegChange = (e) => {\n  //   setRegForm({\n  //     ...regForm,\n  //     [e.target.name]: e.target.value,\n  //   });\n  // };\n  // const handleLogChange = (e) => {\n  //   setLogForm({\n  //     ...logForm,\n  //     [e.target.name]: e.target.value,\n  //   });\n  // };\n  // //register handle\n  // const handleRegister = async (e) => {\n  //   try {\n  //     e.preventDefault();\n  //     // Create Configuration Content-type\n  //     const config = {\n  //       headers: {\n  //         \"Content-type\": \"application/json\",\n  //       },\n  //     };\n  //     // Convert form data to string\n  //     const body = JSON.stringify(regForm);\n  //     // Insert data user to database\n  //     const response = await API.post(\"/register\", body, config);\n  //     //close & empty modal\n  //     setRegister(false);\n  //     setRegForm({\n  //       email: \"\",\n  //       password: \"\",\n  //       fullname: \"\",\n  //     });\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n  // //login handle\n  // const handleLogin = async (e) => {\n  //   try {\n  //     e.preventDefault();\n  //     // Create Configuration Content-type\n  //     const config = {\n  //       headers: {\n  //         \"Content-type\": \"application/json\",\n  //       },\n  //     };\n  //     // Convert form data to string\n  //     const body = JSON.stringify(logForm);\n  //     // Insert data user to database\n  //     const response = await API.post(\"/login\", body, config);\n  //     //close & empty modal\n  //     setLogin(false);\n  //     setLogForm({ email: \"\", password: \"\" });\n  //     //notification & change state\n  //     if (response.data.status === \"success\") {\n  //       await dispatch({\n  //         type: \"LOGIN_SUCCESS\",\n  //         payload: response.data.data.user,\n  //       });\n  //       if (localStorage.token) {\n  //         setAuthToken(localStorage.token);\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n  //Register modal toggle\n  // const handRegClose = () => setRegister(false);\n  // const handReg = () => setRegister(true);\n  // //login modal toggle\n  // const handLogClose = () => setLogin(false);\n  // const handLog = () => setLogin(true);\n  //logout\n\n  const logout = () => dispatch({\n    type: \"LOGOUT\",\n    payload: \"\"\n  }); //get data from db\n\n\n  const getProducts = async () => {\n    try {\n      const response = await API.get(\"/products\");\n      setProducts(response.data.data.products);\n    } catch (error) {\n      console.log(error);\n    }\n  }; //did mount -> get users, socket\n\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [message && message, state.user.role === \"admin\" && state.isLogin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/landing-admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.Header,\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./images/Icon.png\",\n            className: styles.icon,\n            alt: \"icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), !state.isLogin ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.buttons,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handLog,\n              className: styles.LoginBTN,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handReg,\n              className: styles.RegisterBTN,\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.buttons,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: \"/cart\",\n                isLogin: true\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"./images/Cart.png\",\n                alt: \"cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown, {\n              id: \"dropdown-basic\",\n              title: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: styles.avatar,\n                src: state.user.photo,\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 23\n              }, this),\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                className: styles.dropdownItem,\n                to: \"profile\",\n                style: {\n                  textDecoration: \"none\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"./images/user.png\",\n                  className: styles.dropdownPict,\n                  alt: \"profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.dropdownText,\n                  children: \"Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                className: styles.dropdownItem,\n                href: \"#\",\n                onClick: logout,\n                style: {\n                  padding: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"./images/logout.png\",\n                  className: styles.dropdownPict,\n                  alt: \"logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.dropdownText,\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(SignModal, {\n            handLog: handLog\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.Hero,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"./images/hero.png\",\n          className: styles.heropic,\n          alt: \"hero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.products,\n        children: products.map(product => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.product,\n            children: [!state.isLogin ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.photo,\n              onClick: handLog,\n              style: {\n                cursor: \"pointer\"\n              },\n              alt: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(Link, {\n              to: `/detailproduct/${product.id}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.photo,\n                alt: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.productName,\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.productDesc,\n              style: {\n                marginBottom: 0\n              },\n              children: [\"Rp.\", product.price.toLocaleString(\"id-ID\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.productDesc,\n              style: {\n                marginBottom: \"5px\"\n              },\n              children: [\"Stock: \", product.stock]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"BCe5Nad7jX+Fvq32tLxT/9lHeus=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/physicoornea/Documents/Documents/Waysbeans-main/Client/src/pages/Home.js"],"names":["styles","React","useState","useContext","useEffect","Modal","Dropdown","NavDropdown","Link","Navigate","Transactions","UserContext","API","setAuthToken","SignModal","App","handLog","handReg","state","dispatch","message","setMessage","products","setProducts","logout","type","payload","getProducts","response","get","data","error","console","log","user","role","isLogin","Header","icon","buttons","LoginBTN","RegisterBTN","pathname","avatar","photo","dropdownItem","textDecoration","dropdownPict","dropdownText","padding","Hero","heropic","map","product","cursor","id","productName","name","productDesc","marginBottom","price","toLocaleString","stock"],"mappings":";;;AAAA,OAAO,mBAAP;AACA,OAAOA,MAAP,MAAmB,2BAAnB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,iBAA7C;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,OAAOC,YAAP,MAAyB,4BAAzB,C,CACA;AAEA;;AACA,SAASC,WAAT,QAA4B,wBAA5B,C,CAEA;;AACA,SAASC,GAAT,EAAcC,YAAd,QAAkC,eAAlC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;;;AAEA,SAASC,GAAT,OAAmC;AAAA;;AAAA,MAAtB;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAsB;AACjC;AACA;AACA;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBhB,UAAU,CAACQ,WAAD,CAApC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACoB,QAAD,EAAWC,WAAX,IAA0BrB,QAAQ,CAAC,EAAD,CAAxC,CANiC,CAQjC;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;;AACA,QAAMsB,MAAM,GAAG,MACbL,QAAQ,CAAC;AACPM,IAAAA,IAAI,EAAE,QADC;AAEPC,IAAAA,OAAO,EAAE;AAFF,GAAD,CADV,CA/GiC,CAqHjC;;;AACA,QAAMC,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,GAAJ,CAAQ,WAAR,CAAvB;AACAN,MAAAA,WAAW,CAACK,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBR,QAApB,CAAX;AACD,KAHD,CAGE,OAAOS,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAPD,CAtHiC,CA+HjC;;;AACA3B,EAAAA,SAAS,CAAC,MAAM;AACduB,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAA,eACGP,OAAO,IAAIA,OADd,EAEGF,KAAK,CAACgB,IAAN,CAAWC,IAAX,KAAoB,OAApB,IAA+BjB,KAAK,CAACkB,OAArC,gBACC;AAAA,6BACE,QAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA;AADF,qBADD,gBAKC;AAAA,8BACE;AAAK,QAAA,SAAS,EAAEpC,MAAM,CAACqC,MAAvB;AAAA,+BACE;AAAA,kCACE;AAAK,YAAA,GAAG,EAAC,mBAAT;AAA6B,YAAA,SAAS,EAAErC,MAAM,CAACsC,IAA/C;AAAqD,YAAA,GAAG,EAAC;AAAzD;AAAA;AAAA;AAAA;AAAA,kBADF,EAEG,CAACpB,KAAK,CAACkB,OAAP,gBACC;AAAM,YAAA,SAAS,EAAEpC,MAAM,CAACuC,OAAxB;AAAA,oCACE;AAAQ,cAAA,OAAO,EAAEvB,OAAjB;AAA0B,cAAA,SAAS,EAAEhB,MAAM,CAACwC,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAQ,cAAA,OAAO,EAAEvB,OAAjB;AAA0B,cAAA,SAAS,EAAEjB,MAAM,CAACyC,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,gBAUC;AAAM,YAAA,SAAS,EAAEzC,MAAM,CAACuC,OAAxB;AAAA,oCACE,QAAC,IAAD;AAAM,cAAA,EAAE,EAAE;AAAEG,gBAAAA,QAAQ,EAAE,OAAZ;AAAqBN,gBAAAA,OAAO,EAAE;AAA9B,eAAV;AAAA,qCACE;AAAK,gBAAA,GAAG,EAAC,mBAAT;AAA6B,gBAAA,GAAG,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,WAAD;AACE,cAAA,EAAE,EAAC,gBADL;AAEE,cAAA,KAAK,eACH;AACE,gBAAA,SAAS,EAAEpC,MAAM,CAAC2C,MADpB;AAEE,gBAAA,GAAG,EAAEzB,KAAK,CAACgB,IAAN,CAAWU,KAFlB;AAGE,gBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA,sCAUE,QAAC,IAAD;AACE,gBAAA,SAAS,EAAE5C,MAAM,CAAC6C,YADpB;AAEE,gBAAA,EAAE,EAAC,SAFL;AAGE,gBAAA,KAAK,EAAE;AAAEC,kBAAAA,cAAc,EAAE;AAAlB,iBAHT;AAAA,wCAME;AACE,kBAAA,GAAG,EAAC,mBADN;AAEE,kBAAA,SAAS,EAAE9C,MAAM,CAAC+C,YAFpB;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBANF,eAWE;AAAM,kBAAA,SAAS,EAAE/C,MAAM,CAACgD,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVF,eAuBE,QAAC,QAAD,CAAU,OAAV;AAAA;AAAA;AAAA;AAAA,sBAvBF,eAwBE,QAAC,QAAD,CAAU,IAAV;AACE,gBAAA,SAAS,EAAEhD,MAAM,CAAC6C,YADpB;AAEE,gBAAA,IAAI,EAAC,GAFP;AAGE,gBAAA,OAAO,EAAErB,MAHX;AAIE,gBAAA,KAAK,EAAE;AAAEyB,kBAAAA,OAAO,EAAE;AAAX,iBAJT;AAAA,wCAME;AACE,kBAAA,GAAG,EAAC,qBADN;AAEE,kBAAA,SAAS,EAAEjD,MAAM,CAAC+C,YAFpB;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBANF,eAWE;AAAM,kBAAA,SAAS,EAAE/C,MAAM,CAACgD,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZJ,eAwDE,QAAC,SAAD;AAAW,YAAA,OAAO,EAAEhC;AAApB;AAAA;AAAA;AAAA;AAAA,kBAxDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eA6DE;AAAK,QAAA,SAAS,EAAEhB,MAAM,CAACkD,IAAvB;AAAA,+BACE;AACE,UAAA,GAAG,EAAC,mBADN;AAEE,UAAA,SAAS,EAAElD,MAAM,CAACmD,OAFpB;AAGE,UAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA7DF,eAoEE;AAAK,QAAA,SAAS,EAAEnD,MAAM,CAACsB,QAAvB;AAAA,kBACGA,QAAQ,CAAC8B,GAAT,CAAcC,OAAD,IAAa;AACzB,8BACE;AAAK,YAAA,SAAS,EAAErD,MAAM,CAACqD,OAAvB;AAAA,uBACG,CAACnC,KAAK,CAACkB,OAAP,gBACC;AACE,cAAA,GAAG,EAAEiB,OAAO,CAACT,KADf;AAEE,cAAA,OAAO,EAAE5B,OAFX;AAGE,cAAA,KAAK,EAAE;AAAEsC,gBAAAA,MAAM,EAAE;AAAV,eAHT;AAIE,cAAA,GAAG,EAAC;AAJN;AAAA;AAAA;AAAA;AAAA,oBADD,gBAQC,QAAC,IAAD;AAAM,cAAA,EAAE,EAAG,kBAAiBD,OAAO,CAACE,EAAG,EAAvC;AAAA,qCACE;AAAK,gBAAA,GAAG,EAAEF,OAAO,CAACT,KAAlB;AAAyB,gBAAA,GAAG,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBATJ,eAaE;AAAG,cAAA,SAAS,EAAE5C,MAAM,CAACwD,WAArB;AAAA,wBAAmCH,OAAO,CAACI;AAA3C;AAAA;AAAA;AAAA;AAAA,oBAbF,eAcE;AAAG,cAAA,SAAS,EAAEzD,MAAM,CAAC0D,WAArB;AAAkC,cAAA,KAAK,EAAE;AAAEC,gBAAAA,YAAY,EAAE;AAAhB,eAAzC;AAAA,gCACMN,OAAO,CAACO,KAAR,CAAcC,cAAd,CAA6B,OAA7B,CADN;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdF,eAiBE;AACE,cAAA,SAAS,EAAE7D,MAAM,CAAC0D,WADpB;AAEE,cAAA,KAAK,EAAE;AAAEC,gBAAAA,YAAY,EAAE;AAAhB,eAFT;AAAA,oCAIUN,OAAO,CAACS,KAJlB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjBF;AAAA,aAAqCT,OAAO,CAACE,EAA7C;AAAA;AAAA;AAAA;AAAA,kBADF;AA0BD,SA3BA;AADH;AAAA;AAAA;AAAA;AAAA,cApEF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA,kBADF;AA8GD;;GAlPQxC,G;;KAAAA,G;AAoPT,eAAeA,GAAf","sourcesContent":["import \"../styles/App.css\";\nimport styles from \"../styles/Home.module.css\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Modal, Dropdown, NavDropdown } from \"react-bootstrap\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport Transactions from \"../components/Transactions\";\n//import stylesN from \"../components/Navbar.module.css\";\n\n//context\nimport { UserContext } from \"../context/userContext\";\n\n//API config\nimport { API, setAuthToken } from \"../config/api\";\nimport SignModal from \"../components/SignModal\";\n\nfunction App({ handLog, handReg }) {\n  //state\n  // const [register, setRegister] = useState(false);\n  // const [login, setLogin] = useState(false);\n  const [state, dispatch] = useContext(UserContext);\n  const [message, setMessage] = useState(null);\n  const [products, setProducts] = useState([]);\n\n  //register form (state)\n  // const [regForm, setRegForm] = useState({\n  //   email: \"\",\n  //   password: \"\",\n  //   fullname: \"\",\n  // });\n  // const { email, password, fullname } = regForm;\n\n  // //login form (state)\n  // const [logForm, setLogForm] = useState({\n  //   email: \"\",\n  //   password: \"\",\n  // });\n  // const { logEmail, logPassword } = logForm;\n\n  // const handleRegChange = (e) => {\n  //   setRegForm({\n  //     ...regForm,\n  //     [e.target.name]: e.target.value,\n  //   });\n  // };\n  // const handleLogChange = (e) => {\n  //   setLogForm({\n  //     ...logForm,\n  //     [e.target.name]: e.target.value,\n  //   });\n  // };\n\n  // //register handle\n  // const handleRegister = async (e) => {\n  //   try {\n  //     e.preventDefault();\n\n  //     // Create Configuration Content-type\n  //     const config = {\n  //       headers: {\n  //         \"Content-type\": \"application/json\",\n  //       },\n  //     };\n\n  //     // Convert form data to string\n  //     const body = JSON.stringify(regForm);\n\n  //     // Insert data user to database\n  //     const response = await API.post(\"/register\", body, config);\n\n  //     //close & empty modal\n  //     setRegister(false);\n  //     setRegForm({\n  //       email: \"\",\n  //       password: \"\",\n  //       fullname: \"\",\n  //     });\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n\n  // //login handle\n  // const handleLogin = async (e) => {\n  //   try {\n  //     e.preventDefault();\n\n  //     // Create Configuration Content-type\n  //     const config = {\n  //       headers: {\n  //         \"Content-type\": \"application/json\",\n  //       },\n  //     };\n  //     // Convert form data to string\n  //     const body = JSON.stringify(logForm);\n\n  //     // Insert data user to database\n  //     const response = await API.post(\"/login\", body, config);\n\n  //     //close & empty modal\n  //     setLogin(false);\n  //     setLogForm({ email: \"\", password: \"\" });\n\n  //     //notification & change state\n  //     if (response.data.status === \"success\") {\n  //       await dispatch({\n  //         type: \"LOGIN_SUCCESS\",\n  //         payload: response.data.data.user,\n  //       });\n  //       if (localStorage.token) {\n  //         setAuthToken(localStorage.token);\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n\n  //Register modal toggle\n  // const handRegClose = () => setRegister(false);\n  // const handReg = () => setRegister(true);\n\n  // //login modal toggle\n  // const handLogClose = () => setLogin(false);\n  // const handLog = () => setLogin(true);\n\n  //logout\n  const logout = () =>\n    dispatch({\n      type: \"LOGOUT\",\n      payload: \"\",\n    });\n\n  //get data from db\n  const getProducts = async () => {\n    try {\n      const response = await API.get(\"/products\");\n      setProducts(response.data.data.products);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  //did mount -> get users, socket\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  return (\n    <>\n      {message && message}\n      {state.user.role === \"admin\" && state.isLogin ? (\n        <>\n          <Navigate to={\"/landing-admin\"} />\n        </>\n      ) : (\n        <div>\n          <div className={styles.Header}>\n            <nav>\n              <img src=\"./images/Icon.png\" className={styles.icon} alt=\"icon\" />\n              {!state.isLogin ? (\n                <span className={styles.buttons}>\n                  <button onClick={handLog} className={styles.LoginBTN}>\n                    Login\n                  </button>\n                  <button onClick={handReg} className={styles.RegisterBTN}>\n                    Register\n                  </button>\n                </span>\n              ) : (\n                <span className={styles.buttons}>\n                  <Link to={{ pathname: \"/cart\", isLogin: true }}>\n                    <img src=\"./images/Cart.png\" alt=\"cart\" />\n                  </Link>\n                  <NavDropdown\n                    id=\"dropdown-basic\"\n                    title={\n                      <img\n                        className={styles.avatar}\n                        src={state.user.photo}\n                        alt=\"avatar\"\n                      />\n                    }\n                  >\n                    <Link\n                      className={styles.dropdownItem}\n                      to=\"profile\"\n                      style={{ textDecoration: \"none\" }}\n                    >\n                      {/* <Link to=\"profile\" style={{ textDecoration: 'none' }}> */}\n                      <img\n                        src=\"./images/user.png\"\n                        className={styles.dropdownPict}\n                        alt=\"profile\"\n                      />\n                      <span className={styles.dropdownText}>Profile</span>\n                    </Link>\n                    <Dropdown.Divider />\n                    <Dropdown.Item\n                      className={styles.dropdownItem}\n                      href=\"#\"\n                      onClick={logout}\n                      style={{ padding: 0 }}\n                    >\n                      <img\n                        src=\"./images/logout.png\"\n                        className={styles.dropdownPict}\n                        alt=\"logout\"\n                      />\n                      <span className={styles.dropdownText}>Logout</span>\n                    </Dropdown.Item>\n                  </NavDropdown>\n                </span>\n              )}\n              <SignModal handLog={handLog} />\n            </nav>\n          </div>\n          <div className={styles.Hero}>\n            <img\n              src=\"./images/hero.png\"\n              className={styles.heropic}\n              alt=\"hero\"\n            />\n          </div>\n          <div className={styles.products}>\n            {products.map((product) => {\n              return (\n                <div className={styles.product} key={product.id}>\n                  {!state.isLogin ? (\n                    <img\n                      src={product.photo}\n                      onClick={handLog}\n                      style={{ cursor: \"pointer\" }}\n                      alt=\"icon\"\n                    />\n                  ) : (\n                    <Link to={`/detailproduct/${product.id}`}>\n                      <img src={product.photo} alt=\"icon\" />\n                    </Link>\n                  )}\n                  <p className={styles.productName}>{product.name}</p>\n                  <p className={styles.productDesc} style={{ marginBottom: 0 }}>\n                    Rp.{product.price.toLocaleString(\"id-ID\")}\n                  </p>\n                  <p\n                    className={styles.productDesc}\n                    style={{ marginBottom: \"5px\" }}\n                  >\n                    Stock: {product.stock}\n                  </p>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}